@page "/test"

<div class="image-upload-container">
    <label class="image-upload-label">
        <InputFile accept="image/*" OnChange="HandleFileUploadAsync" style="display: none"/>
        <div class="image-upload-box rounded">
            @if (ImageUrl == null)
            {
                <div class="plus-sign">+</div>
            }
            else
            {
                <img src="@ImageUrl" alt="Uploaded Image" class="uploaded-image" />
            }
        </div>
    </label>
</div>

@code {
    private string ImageUrl { get; set; }

    private async Task HandleFileUploadAsync(InputFileChangeEventArgs e)
    {
        var file = e.File;
        if (file != null)
        {
            byte[] buffer = new byte[file.Size];
            await file.OpenReadStream().ReadAsync(buffer);
            ImageUrl = $"data:{file.ContentType};base64,{Convert.ToBase64String(buffer)}";
        }
    }
}